// <auto-generated>
/*
 * Identity Service API
 *
 * Identity and authentication service (OIDC proxy)
 *
 * The version of the OpenAPI document: 1.0.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Org.OpenAPITools.Client;

namespace Org.OpenAPITools.Model
{
    /// <summary>
    /// OidcConfiguration
    /// </summary>
    public partial class OidcConfiguration : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="OidcConfiguration" /> class.
        /// </summary>
        /// <param name="issuer">issuer</param>
        /// <param name="authorizationEndpoint">authorizationEndpoint</param>
        /// <param name="tokenEndpoint">tokenEndpoint</param>
        /// <param name="userinfoEndpoint">userinfoEndpoint</param>
        /// <param name="jwksUri">jwksUri</param>
        /// <param name="responseTypesSupported">responseTypesSupported</param>
        /// <param name="scopesSupported">scopesSupported</param>
        [JsonConstructor]
        public OidcConfiguration(Option<string?> issuer = default, Option<string?> authorizationEndpoint = default, Option<string?> tokenEndpoint = default, Option<string?> userinfoEndpoint = default, Option<string?> jwksUri = default, Option<List<string>?> responseTypesSupported = default, Option<List<string>?> scopesSupported = default)
        {
            IssuerOption = issuer;
            AuthorizationEndpointOption = authorizationEndpoint;
            TokenEndpointOption = tokenEndpoint;
            UserinfoEndpointOption = userinfoEndpoint;
            JwksUriOption = jwksUri;
            ResponseTypesSupportedOption = responseTypesSupported;
            ScopesSupportedOption = scopesSupported;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Used to track the state of Issuer
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> IssuerOption { get; private set; }

        /// <summary>
        /// Gets or Sets Issuer
        /// </summary>
        [JsonPropertyName("issuer")]
        public string? Issuer { get { return this.IssuerOption; } set { this.IssuerOption = new(value); } }

        /// <summary>
        /// Used to track the state of AuthorizationEndpoint
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> AuthorizationEndpointOption { get; private set; }

        /// <summary>
        /// Gets or Sets AuthorizationEndpoint
        /// </summary>
        [JsonPropertyName("authorization_endpoint")]
        public string? AuthorizationEndpoint { get { return this.AuthorizationEndpointOption; } set { this.AuthorizationEndpointOption = new(value); } }

        /// <summary>
        /// Used to track the state of TokenEndpoint
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> TokenEndpointOption { get; private set; }

        /// <summary>
        /// Gets or Sets TokenEndpoint
        /// </summary>
        [JsonPropertyName("token_endpoint")]
        public string? TokenEndpoint { get { return this.TokenEndpointOption; } set { this.TokenEndpointOption = new(value); } }

        /// <summary>
        /// Used to track the state of UserinfoEndpoint
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> UserinfoEndpointOption { get; private set; }

        /// <summary>
        /// Gets or Sets UserinfoEndpoint
        /// </summary>
        [JsonPropertyName("userinfo_endpoint")]
        public string? UserinfoEndpoint { get { return this.UserinfoEndpointOption; } set { this.UserinfoEndpointOption = new(value); } }

        /// <summary>
        /// Used to track the state of JwksUri
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> JwksUriOption { get; private set; }

        /// <summary>
        /// Gets or Sets JwksUri
        /// </summary>
        [JsonPropertyName("jwks_uri")]
        public string? JwksUri { get { return this.JwksUriOption; } set { this.JwksUriOption = new(value); } }

        /// <summary>
        /// Used to track the state of ResponseTypesSupported
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<string>?> ResponseTypesSupportedOption { get; private set; }

        /// <summary>
        /// Gets or Sets ResponseTypesSupported
        /// </summary>
        [JsonPropertyName("response_types_supported")]
        public List<string>? ResponseTypesSupported { get { return this.ResponseTypesSupportedOption; } set { this.ResponseTypesSupportedOption = new(value); } }

        /// <summary>
        /// Used to track the state of ScopesSupported
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<string>?> ScopesSupportedOption { get; private set; }

        /// <summary>
        /// Gets or Sets ScopesSupported
        /// </summary>
        [JsonPropertyName("scopes_supported")]
        public List<string>? ScopesSupported { get { return this.ScopesSupportedOption; } set { this.ScopesSupportedOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class OidcConfiguration {\n");
            sb.Append("  Issuer: ").Append(Issuer).Append("\n");
            sb.Append("  AuthorizationEndpoint: ").Append(AuthorizationEndpoint).Append("\n");
            sb.Append("  TokenEndpoint: ").Append(TokenEndpoint).Append("\n");
            sb.Append("  UserinfoEndpoint: ").Append(UserinfoEndpoint).Append("\n");
            sb.Append("  JwksUri: ").Append(JwksUri).Append("\n");
            sb.Append("  ResponseTypesSupported: ").Append(ResponseTypesSupported).Append("\n");
            sb.Append("  ScopesSupported: ").Append(ScopesSupported).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="OidcConfiguration" />
    /// </summary>
    public class OidcConfigurationJsonConverter : JsonConverter<OidcConfiguration>
    {
        /// <summary>
        /// Deserializes json to <see cref="OidcConfiguration" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override OidcConfiguration Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> issuer = default;
            Option<string?> authorizationEndpoint = default;
            Option<string?> tokenEndpoint = default;
            Option<string?> userinfoEndpoint = default;
            Option<string?> jwksUri = default;
            Option<List<string>?> responseTypesSupported = default;
            Option<List<string>?> scopesSupported = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "issuer":
                            issuer = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "authorization_endpoint":
                            authorizationEndpoint = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "token_endpoint":
                            tokenEndpoint = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "userinfo_endpoint":
                            userinfoEndpoint = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "jwks_uri":
                            jwksUri = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "response_types_supported":
                            responseTypesSupported = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "scopes_supported":
                            scopesSupported = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        default:
                            break;
                    }
                }
            }

            if (issuer.IsSet && issuer.Value == null)
                throw new ArgumentNullException(nameof(issuer), "Property is not nullable for class OidcConfiguration.");

            if (authorizationEndpoint.IsSet && authorizationEndpoint.Value == null)
                throw new ArgumentNullException(nameof(authorizationEndpoint), "Property is not nullable for class OidcConfiguration.");

            if (tokenEndpoint.IsSet && tokenEndpoint.Value == null)
                throw new ArgumentNullException(nameof(tokenEndpoint), "Property is not nullable for class OidcConfiguration.");

            if (userinfoEndpoint.IsSet && userinfoEndpoint.Value == null)
                throw new ArgumentNullException(nameof(userinfoEndpoint), "Property is not nullable for class OidcConfiguration.");

            if (jwksUri.IsSet && jwksUri.Value == null)
                throw new ArgumentNullException(nameof(jwksUri), "Property is not nullable for class OidcConfiguration.");

            if (responseTypesSupported.IsSet && responseTypesSupported.Value == null)
                throw new ArgumentNullException(nameof(responseTypesSupported), "Property is not nullable for class OidcConfiguration.");

            if (scopesSupported.IsSet && scopesSupported.Value == null)
                throw new ArgumentNullException(nameof(scopesSupported), "Property is not nullable for class OidcConfiguration.");

            return new OidcConfiguration(issuer, authorizationEndpoint, tokenEndpoint, userinfoEndpoint, jwksUri, responseTypesSupported, scopesSupported);
        }

        /// <summary>
        /// Serializes a <see cref="OidcConfiguration" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="oidcConfiguration"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, OidcConfiguration oidcConfiguration, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, oidcConfiguration, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="OidcConfiguration" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="oidcConfiguration"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, OidcConfiguration oidcConfiguration, JsonSerializerOptions jsonSerializerOptions)
        {
            if (oidcConfiguration.IssuerOption.IsSet && oidcConfiguration.Issuer == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.Issuer), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.AuthorizationEndpointOption.IsSet && oidcConfiguration.AuthorizationEndpoint == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.AuthorizationEndpoint), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.TokenEndpointOption.IsSet && oidcConfiguration.TokenEndpoint == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.TokenEndpoint), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.UserinfoEndpointOption.IsSet && oidcConfiguration.UserinfoEndpoint == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.UserinfoEndpoint), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.JwksUriOption.IsSet && oidcConfiguration.JwksUri == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.JwksUri), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.ResponseTypesSupportedOption.IsSet && oidcConfiguration.ResponseTypesSupported == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.ResponseTypesSupported), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.ScopesSupportedOption.IsSet && oidcConfiguration.ScopesSupported == null)
                throw new ArgumentNullException(nameof(oidcConfiguration.ScopesSupported), "Property is required for class OidcConfiguration.");

            if (oidcConfiguration.IssuerOption.IsSet)
                writer.WriteString("issuer", oidcConfiguration.Issuer);

            if (oidcConfiguration.AuthorizationEndpointOption.IsSet)
                writer.WriteString("authorization_endpoint", oidcConfiguration.AuthorizationEndpoint);

            if (oidcConfiguration.TokenEndpointOption.IsSet)
                writer.WriteString("token_endpoint", oidcConfiguration.TokenEndpoint);

            if (oidcConfiguration.UserinfoEndpointOption.IsSet)
                writer.WriteString("userinfo_endpoint", oidcConfiguration.UserinfoEndpoint);

            if (oidcConfiguration.JwksUriOption.IsSet)
                writer.WriteString("jwks_uri", oidcConfiguration.JwksUri);

            if (oidcConfiguration.ResponseTypesSupportedOption.IsSet)
            {
                writer.WritePropertyName("response_types_supported");
                JsonSerializer.Serialize(writer, oidcConfiguration.ResponseTypesSupported, jsonSerializerOptions);
            }
            if (oidcConfiguration.ScopesSupportedOption.IsSet)
            {
                writer.WritePropertyName("scopes_supported");
                JsonSerializer.Serialize(writer, oidcConfiguration.ScopesSupported, jsonSerializerOptions);
            }
        }
    }
}
