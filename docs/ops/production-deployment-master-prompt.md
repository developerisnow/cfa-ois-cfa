# ğŸ¯ ĞœĞĞ¡Ğ¢Ğ•Ğ -ĞŸĞ ĞĞœĞŸĞ¢: Ğ’Ñ‹ĞºĞ°Ñ‚ĞºĞ° ĞĞ˜Ğ¡ Ğ¦Ğ¤Ğ Ğ² Production

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.0  
**Ğ”Ğ°Ñ‚Ğ°:** 2025-01-27  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹  
**Ğ’Ğ»Ğ°Ğ´ĞµĞ»ĞµÑ†:** Technical Lead / DevOps

---

## ğŸ“‹ ĞšĞĞĞ¢Ğ•ĞšĞ¡Ğ¢ Ğ˜ Ğ¦Ğ•Ğ›Ğ¬

**Ğ¦ĞµĞ»ÑŒ:** Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Ğ²ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ ĞĞ˜Ğ¡ Ğ¦Ğ¤Ğ Ğ² production Ğ½Ğ° Kubernetes ĞºĞ»Ğ°ÑÑ‚ĞµÑ€ Timeweb Cloud Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼ Ñ‡ĞµÑ€ĞµĞ· Ğ´Ğ¾Ğ¼ĞµĞ½ `https://cfa.capital/`.

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ:**
- âœ… GitLab: https://git.telex.global
- âœ… Kubernetes ĞºĞ»Ğ°ÑÑ‚ĞµÑ€: Timeweb Cloud (1 worker node)
- âœ… Ğ”Ğ¾Ğ¼ĞµĞ½: https://cfa.capital/
- âœ… Ingress NGINX: ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½
- âœ… GitLab Agent: ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- âœ… GitLab Runner: ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½, Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ñ Ñ€ĞµÑÑƒÑ€ÑĞ°Ğ¼Ğ¸ (Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾)
- âš ï¸ Build jobs: Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ² Ğ²ĞµÑ‚ĞºĞµ `infra` (Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°)
- âš ï¸ ĞĞµÑ‚ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ² ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğµ

---

## ğŸ—ï¸ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ«

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ²Ñ‹ĞºĞ°Ñ‚ĞºĞ¸

#### 1. **Platform Services** (Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸)
- PostgreSQL (Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
- Redis (ĞºÑÑˆ, ÑĞµÑÑĞ¸Ğ¸)
- Kafka (event streaming)
- Keycloak (SSO/OIDC)
- Vault (secrets management, Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

#### 2. **DLT Infrastructure** (Hyperledger Fabric)
- Fabric CA (Certificate Authority)
- Fabric Orderer (ĞºĞ¾Ğ½ÑĞµĞ½ÑÑƒÑ, Raft)
- Fabric Peer (Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹)
- Chaincode (issuance, registry)

#### 3. **Backend Services** (.NET 9)
- `api-gateway` - Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°, Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- `identity` - Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ, Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- `issuance` - Ğ²Ñ‹Ğ¿ÑƒÑĞº Ğ¦Ğ¤Ğ
- `registry` - Ñ€ĞµĞµÑÑ‚Ñ€ Ğ¦Ğ¤Ğ
- `settlement` - Ñ€Ğ°ÑÑ‡ĞµÑ‚Ñ‹, Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ñ‹
- `compliance` - ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ°ĞµĞ½Ñ, KYC
- `fabric-gateway` - Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Fabric
- `bank-nominal` - Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ±Ğ°Ğ½ĞºĞ¾Ğ¼ (mock)

#### 4. **Frontend Applications** (Next.js 15)
- `portal-issuer` - Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ» ÑĞ¼Ğ¸Ñ‚ĞµĞ½Ñ‚Ğ°
- `portal-investor` - Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ» Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¾Ñ€Ğ°
- `backoffice` - Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ»
- `broker-portal` - Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ» Ğ±Ñ€Ğ¾ĞºĞµÑ€Ğ° (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

---

## ğŸ“Š ĞŸĞĞ Ğ¯Ğ”ĞĞš Ğ’Ğ«ĞšĞĞ¢ĞšĞ˜ (Dependency Graph)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¤ĞĞ—Ğ 0: Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Platform Services)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. PostgreSQL                                            â”‚
â”‚ 2. Redis                                                 â”‚
â”‚ 3. Kafka + Zookeeper                                     â”‚
â”‚ 4. Keycloak (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ PostgreSQL)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¤ĞĞ—Ğ 1: DLT Infrastructure (Hyperledger Fabric)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Fabric CA                                             â”‚
â”‚ 2. Fabric Orderer (Raft)                                 â”‚
â”‚ 3. Fabric Peer                                           â”‚
â”‚ 4. Chaincode (issuance, registry)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¤ĞĞ—Ğ 2: Backend Services (Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Identity Service (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Keycloak, PostgreSQL)   â”‚
â”‚ 2. Fabric Gateway (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Fabric Peer)              â”‚
â”‚ 3. Registry Service (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Fabric, PostgreSQL)     â”‚
â”‚ 4. Issuance Service (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Registry, PostgreSQL)  â”‚
â”‚ 5. Settlement Service (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Registry, Kafka)      â”‚
â”‚ 6. Compliance Service (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Identity, PostgreSQL)  â”‚
â”‚ 7. Bank Nominal (mock, Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼)                       â”‚
â”‚ 8. API Gateway (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¤ĞĞ—Ğ 3: Frontend Applications (Next.js)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Portal Issuer (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ API Gateway)                â”‚
â”‚ 2. Portal Investor (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ API Gateway)            â”‚
â”‚ 3. Backoffice (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ API Gateway)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ĞŸĞ›ĞĞ Ğ’Ğ«ĞšĞĞ¢ĞšĞ˜ (Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾)

### **Ğ­Ğ¢ĞĞŸ 0: ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°**

#### 0.1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€
kubectl cluster-info
kubectl get nodes
kubectl get namespaces

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ GitLab Runner
kubectl get pods -n gitlab-runner
kubectl logs -n gitlab-runner -l app=gitlab-runner --tail=50

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ GitLab Agent
kubectl get pods -n gitlab-agent
kubectl logs -n gitlab-agent -l app=gitlab-agent --tail=50

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ingress
kubectl get ingress -A
```

#### 0.2. Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° CI/CD Ğ´Ğ»Ñ Ğ²ĞµÑ‚ĞºĞ¸ `infra`
**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Build jobs Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ² Ğ²ĞµÑ‚ĞºĞµ `infra`  
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ² `.gitlab-ci.yml`:

```yaml
# Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ (Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ²ĞµÑ‚Ğ¾Ğº):
rules:
  - if: '$CI_COMMIT_BRANCH || $CI_COMMIT_TAG'

# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ Ğ´Ğ»Ñ Ğ²ĞµÑ‚ĞºĞ¸ infra:
rules:
  - if: '$CI_COMMIT_BRANCH || $CI_COMMIT_TAG'
  - if: '$CI_COMMIT_BRANCH == "infra"'
```

#### 0.3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Dockerfile Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
```bash
# Backend Services
ls -la apps/api-gateway/Dockerfile
ls -la services/*/Dockerfile

# Frontend Apps
ls -la apps/*/Dockerfile

# Chaincode (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶ĞµĞ½ Dockerfile Ğ´Ğ»Ñ ÑĞ±Ğ¾Ñ€ĞºĞ¸)
ls -la chaincode/*/Dockerfile
```

#### 0.4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Helm Charts
```bash
ls -la ops/infra/helm/*/
```

---

### **Ğ­Ğ¢ĞĞŸ 1: Platform Services (PostgreSQL, Redis, Kafka, Keycloak)**

**Ğ¦ĞµĞ»ÑŒ:** Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²ÑƒÑ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ

#### 1.1. PostgreSQL
```bash
# Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ Helm chart Ğ¸Ğ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ°Ğ½Ğ¸Ñ„ĞµÑÑ‚Ñ‹
helm repo add bitnami https://charts.bitnami.com/bitnami
helm install postgresql bitnami/postgresql \
  --namespace ois-cfa \
  --create-namespace \
  --set auth.postgresPassword=ois_prod_password \
  --set auth.database=ois \
  --set persistence.size=20Gi

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app.kubernetes.io/name=postgresql
```

#### 1.2. Redis
```bash
helm install redis bitnami/redis \
  --namespace ois-cfa \
  --set auth.password=ois_redis_password \
  --set persistence.size=10Gi

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app.kubernetes.io/name=redis
```

#### 1.3. Kafka + Zookeeper
```bash
helm repo add confluentinc https://confluentinc.github.io/cp-helm-charts/
helm install kafka confluentinc/cp-helm-charts \
  --namespace ois-cfa \
  --set cp-kafka.persistence.size=20Gi

# Ğ˜Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Strimzi operator (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ production)
```

#### 1.4. Keycloak
```bash
helm repo add codecentric https://codecentric.github.io/helm-charts
helm install keycloak codecentric/keycloak \
  --namespace ois-cfa \
  --set postgresql.enabled=false \
  --set externalDatabase.host=postgresql.ois-cfa.svc.cluster.local \
  --set externalDatabase.database=keycloak \
  --set externalDatabase.user=postgres \
  --set externalDatabase.password=ois_prod_password

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=keycloak
```

**ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ ÑƒÑĞ¿ĞµÑ…Ğ°:** Ğ’ÑĞµ platform services Ğ² ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ `Running`

---

### **Ğ­Ğ¢ĞĞŸ 2: DLT Infrastructure (Hyperledger Fabric)**

**Ğ¦ĞµĞ»ÑŒ:** Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Hyperledger Fabric ÑĞµÑ‚ÑŒ

#### 2.1. Fabric CA
```bash
helm install fabric-ca ops/infra/helm/fabric-ca \
  --namespace fabric-network \
  --create-namespace \
  -f ops/infra/helm/fabric-ca/values-prod.yaml

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n fabric-network -l app=fabric-ca
```

#### 2.2. Fabric Orderer (Raft)
```bash
helm install fabric-orderer ops/infra/helm/fabric-orderer \
  --namespace fabric-network \
  -f ops/infra/helm/fabric-orderer/values-prod.yaml

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n fabric-network -l app=fabric-orderer
```

#### 2.3. Fabric Peer
```bash
helm install fabric-peer ops/infra/helm/fabric-peer \
  --namespace fabric-network \
  -f ops/infra/helm/fabric-peer/values-prod.yaml

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n fabric-network -l app=fabric-peer
```

#### 2.4. Chaincode (issuance, registry)
```bash
# Ğ¡Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ chaincode Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹
cd chaincode/issuance
docker build -t $CI_REGISTRY_IMAGE/chaincode-issuance:$CI_COMMIT_SHA .
docker push $CI_REGISTRY_IMAGE/chaincode-issuance:$CI_COMMIT_SHA

cd ../registry
docker build -t $CI_REGISTRY_IMAGE/chaincode-registry:$CI_COMMIT_SHA .
docker push $CI_REGISTRY_IMAGE/chaincode-registry:$CI_COMMIT_SHA

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Helm
helm install chaincode-issuance ops/infra/helm/chaincode-lifecycle \
  --namespace fabric-network \
  --set chaincode.name=issuance \
  --set chaincode.image=$CI_REGISTRY_IMAGE/chaincode-issuance:$CI_COMMIT_SHA

helm install chaincode-registry ops/infra/helm/chaincode-lifecycle \
  --namespace fabric-network \
  --set chaincode.name=registry \
  --set chaincode.image=$CI_REGISTRY_IMAGE/chaincode-registry:$CI_COMMIT_SHA
```

**ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ ÑƒÑĞ¿ĞµÑ…Ğ°:** Fabric ÑĞµÑ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚, chaincode ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½

---

### **Ğ­Ğ¢ĞĞŸ 3: Backend Services**

**Ğ¦ĞµĞ»ÑŒ:** Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ

#### 3.1. Identity Service
```bash
# Ğ¡Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ· (Ñ‡ĞµÑ€ĞµĞ· CI/CD Ğ¸Ğ»Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ)
# Build job Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: $CI_REGISTRY_IMAGE/identity:$CI_COMMIT_SHA

# Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Helm
helm install identity ops/infra/helm/identity \
  --namespace ois-cfa \
  --create-namespace \
  --set image.repository=$CI_REGISTRY_IMAGE/identity \
  --set image.tag=$CI_COMMIT_SHA \
  --set postgresql.host=postgresql.ois-cfa.svc.cluster.local \
  --set keycloak.url=http://keycloak.ois-cfa.svc.cluster.local

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=identity
kubectl logs -n ois-cfa -l app=identity --tail=50
```

#### 3.2. Fabric Gateway
```bash
helm install fabric-gateway ops/infra/helm/fabric-gateway \
  --namespace ois-cfa \
  --set fabric.peer.url=fabric-peer.fabric-network.svc.cluster.local:7051

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=fabric-gateway
```

#### 3.3. Registry Service
```bash
helm install registry ops/infra/helm/registry \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/registry \
  --set image.tag=$CI_COMMIT_SHA \
  --set fabric.gateway.url=fabric-gateway.ois-cfa.svc.cluster.local \
  --set postgresql.host=postgresql.ois-cfa.svc.cluster.local

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=registry
```

#### 3.4. Issuance Service
```bash
helm install issuance ops/infra/helm/issuance \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/issuance \
  --set image.tag=$CI_COMMIT_SHA \
  --set registry.url=http://registry.ois-cfa.svc.cluster.local \
  --set postgresql.host=postgresql.ois-cfa.svc.cluster.local

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=issuance
```

#### 3.5. Settlement Service
```bash
helm install settlement ops/infra/helm/settlement \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/settlement \
  --set image.tag=$CI_COMMIT_SHA \
  --set registry.url=http://registry.ois-cfa.svc.cluster.local \
  --set kafka.brokers=kafka.ois-cfa.svc.cluster.local:9092

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=settlement
```

#### 3.6. Compliance Service
```bash
helm install compliance ops/infra/helm/compliance \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/compliance \
  --set image.tag=$CI_COMMIT_SHA \
  --set identity.url=http://identity.ois-cfa.svc.cluster.local \
  --set postgresql.host=postgresql.ois-cfa.svc.cluster.local

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=compliance
```

#### 3.7. Bank Nominal (mock)
```bash
helm install bank-nominal ops/infra/helm/bank-nominal \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/bank-nominal \
  --set image.tag=$CI_COMMIT_SHA

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=bank-nominal
```

#### 3.8. API Gateway (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹, Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²ÑĞµÑ…)
```bash
helm install api-gateway ops/infra/helm/api-gateway \
  --namespace ois-cfa \
  --create-namespace \
  -f ops/infra/helm/api-gateway/values-prod.yaml \
  --set image.repository=$CI_REGISTRY_IMAGE/api-gateway \
  --set image.tag=$CI_COMMIT_SHA \
  --set ingress.hosts[0].host=api.cfa.capital \
  --set services.identity.url=http://identity.ois-cfa.svc.cluster.local \
  --set services.issuance.url=http://issuance.ois-cfa.svc.cluster.local \
  --set services.registry.url=http://registry.ois-cfa.svc.cluster.local \
  --set services.settlement.url=http://settlement.ois-cfa.svc.cluster.local \
  --set services.compliance.url=http://compliance.ois-cfa.svc.cluster.local

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=api-gateway
kubectl get ingress -n ois-cfa
curl https://api.cfa.capital/health
```

**ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ ÑƒÑĞ¿ĞµÑ…Ğ°:** Ğ’ÑĞµ backend services Ğ² ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ `Running`, API Gateway Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ñ‡ĞµÑ€ĞµĞ· Ingress

---

### **Ğ­Ğ¢ĞĞŸ 4: Frontend Applications**

**Ğ¦ĞµĞ»ÑŒ:** Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Next.js Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

#### 4.1. Portal Issuer
```bash
# Build job Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: $CI_REGISTRY_IMAGE/portal-issuer:$CI_COMMIT_SHA

helm install portal-issuer ops/infra/helm/portal-issuer \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/portal-issuer \
  --set image.tag=$CI_COMMIT_SHA \
  --set ingress.hosts[0].host=issuer.cfa.capital \
  --set env.NEXT_PUBLIC_API_URL=https://api.cfa.capital

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=portal-issuer
curl https://issuer.cfa.capital
```

#### 4.2. Portal Investor
```bash
helm install portal-investor ops/infra/helm/portal-investor \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/portal-investor \
  --set image.tag=$CI_COMMIT_SHA \
  --set ingress.hosts[0].host=investor.cfa.capital \
  --set env.NEXT_PUBLIC_API_URL=https://api.cfa.capital

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=portal-investor
curl https://investor.cfa.capital
```

#### 4.3. Backoffice
```bash
helm install backoffice ops/infra/helm/backoffice \
  --namespace ois-cfa \
  --set image.repository=$CI_REGISTRY_IMAGE/backoffice \
  --set image.tag=$CI_COMMIT_SHA \
  --set ingress.hosts[0].host=admin.cfa.capital \
  --set env.NEXT_PUBLIC_API_URL=https://api.cfa.capital

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
kubectl get pods -n ois-cfa -l app=backoffice
curl https://admin.cfa.capital
```

**ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ ÑƒÑĞ¿ĞµÑ…Ğ°:** Ğ’ÑĞµ frontend Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ñ‡ĞµÑ€ĞµĞ· Ingress

---

## ğŸ”§ ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯ Ğ§Ğ•Ğ Ğ•Ğ— CI/CD

### ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `.gitlab-ci.yml` Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ²Ñ‹ĞºĞ°Ñ‚ĞºĞ¸

#### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ deploy jobs Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°:

```yaml
# Deploy Platform Services
deploy:postgresql:
  stage: deploy
  image: bitnami/helm:latest
  script:
    - helm upgrade --install postgresql bitnami/postgresql ...
  rules:
    - if: '$CI_COMMIT_BRANCH == "infra"'
    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'

# Deploy Backend Services
deploy:identity:
  stage: deploy
  image: bitnami/helm:latest
  dependencies:
    - build:identity
  script:
    - helm upgrade --install identity ops/infra/helm/identity ...
  rules:
    - if: '$CI_COMMIT_BRANCH == "infra"'
    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'

# Ğ˜ Ñ‚Ğ°Ğº Ğ´Ğ°Ğ»ĞµĞµ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°...
```

---

## ğŸ“‹ Ğ§Ğ•ĞšĞ›Ğ˜Ğ¡Ğ¢ Ğ“ĞĞ¢ĞĞ’ĞĞĞ¡Ğ¢Ğ˜

### Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
- [ ] Kubernetes ĞºĞ»Ğ°ÑÑ‚ĞµÑ€ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Ingress NGINX ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½
- [ ] GitLab Agent Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] GitLab Runner Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Build jobs Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ² Ğ²ĞµÑ‚ĞºĞµ `infra`

### Platform Services
- [ ] PostgreSQL Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- [ ] Redis Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- [ ] Kafka Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- [ ] Keycloak Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½

### DLT Infrastructure
- [ ] Fabric CA Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Fabric Orderer Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Fabric Peer Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Chaincode ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½

### Backend Services
- [ ] Identity Service Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Fabric Gateway Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Registry Service Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Issuance Service Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Settlement Service Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Compliance Service Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] Bank Nominal Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] API Gateway Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ñ‡ĞµÑ€ĞµĞ· Ingress

### Frontend Applications
- [ ] Portal Issuer Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- [ ] Portal Investor Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- [ ] Backoffice Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½

### CI/CD
- [ ] Build jobs Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚
- [ ] Deploy jobs Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚
- [ ] GitOps ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

---

## ğŸš¨ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ« Ğ˜ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ¯

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 1: Build jobs Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ² Ğ²ĞµÑ‚ĞºĞµ `infra`
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ² `.gitlab-ci.yml`:
```yaml
rules:
  - if: '$CI_COMMIT_BRANCH || $CI_COMMIT_TAG'
  - if: '$CI_COMMIT_BRANCH == "infra"'
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 2: ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ğ² ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğµ
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** 
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ resource requests/limits
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½ worker node Ğ´Ğ»Ñ MVP
- ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ»Ñ production

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 3: ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚ Helm Charts
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Helm charts Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 4: ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚ Dockerfile
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Dockerfile Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

---

## ğŸ“… TIMELINE (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ñ‹Ğ¹)

- **Ğ”ĞµĞ½ÑŒ 1:** Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ CI/CD Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ build jobs
- **Ğ”ĞµĞ½ÑŒ 2:** Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Platform Services (PostgreSQL, Redis, Kafka, Keycloak)
- **Ğ”ĞµĞ½ÑŒ 3:** Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ DLT Infrastructure (Fabric CA, Orderer, Peer, Chaincode)
- **Ğ”ĞµĞ½ÑŒ 4:** Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Backend Services (Identity, Registry, Issuance, Settlement, Compliance, API Gateway)
- **Ğ”ĞµĞ½ÑŒ 5:** Ğ’Ñ‹ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Frontend Applications (Portal Issuer, Portal Investor, Backoffice)
- **Ğ”ĞµĞ½ÑŒ 6:** Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
- **Ğ”ĞµĞ½ÑŒ 7+:** ĞŸĞ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

---

## ğŸ“š Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ Ğ•Ğ¡Ğ£Ğ Ğ¡Ğ«

- [Production Deployment Master Plan](./production-deployment-master-plan.md)
- [GitOps Setup](./gitops.md)
- [Helm Charts](./helm.md)
- [GitLab CI/CD](./gitlab-ci.md)
- [Architecture Overview](../architecture/10-HighLevel-Architecture.md)

---

## âš ï¸ Ğ Ğ˜Ğ¡ĞšĞ˜ Ğ˜ ĞĞ“Ğ ĞĞĞ˜Ğ§Ğ•ĞĞ˜Ğ¯

1. **ĞĞ´Ğ¸Ğ½ worker node** - Ğ½ĞµÑ‚ HA, Ğ½ÑƒĞ¶ĞµĞ½ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 3 ÑƒĞ·Ğ»Ğ° Ğ´Ğ»Ñ production
2. **Ğ ĞµÑÑƒÑ€ÑÑ‹** - Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ CPU/memory Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ
3. **DNS** - Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ IP Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾
4. **Secrets** - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Vault Ğ¸Ğ»Ğ¸ Kubernetes Secrets
5. **Backup** - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ±ÑĞºĞ°Ğ¿Ñ‹ Ğ´Ğ»Ñ PostgreSQL Ğ¸ Fabric

---

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³:** ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ Ğ­Ğ¢ĞĞŸĞ 0 - Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°

